% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/satpt.R
\name{satpt}
\alias{satpt}
\title{Saturation point analysis}
\usage{
satpt(
  y,
  by = NULL,
  exclude = c(NA, NaN),
  alpha = 0.05,
  threshold = 0.05,
  dimnames = NULL
)
}
\arguments{
\item{y}{Vector of values to which determine if saturation has been achieved.}

\item{by}{Vector of values which indicate when \code{y} was collected.
Default is \code{NULL}.}

\item{exclude}{Vector of values that should be excluded in \code{y} and
\code{by}. Generally, this should be used to denote missing values. Default
is \code{NA} and \code{NaN}.}

\item{alpha}{Significance level for Pearson's \eqn{\chi^2} test for
independence. Default is \code{0.05}.}

\item{threshold}{Saturation threshold applied to the standard errors of the
sample proportions. Default is \code{0.05}.}

\item{dimnames}{Character vector of names for \code{y} and \code{by} when
displaying the contingency table, sample proportions, and standard error
matrices. When \code{dimnames} is an unnamed vector the first entry should be name
of \code{y} variable and the second entry should be name of \code{by} variable. If
\code{dimnames} is a named vector, then order of the values do NOT matter, as long
the elements are named with \code{"y"} and \code{"by"}. Default is \code{NULL}.}
}
\value{
An object with \code{S3} class \code{"satpt"} containing
\describe{
\item{\code{saturation}}{A logical value indicating whether all response
categories have achieved saturation given the defined \code{threshold}. The value
of \code{TRUE} indicates that saturation has been achieved while a value of
\code{FALSE} indicates that saturation was not achieved and more data is needed
to achieve saturation.}
\item{\code{counts}}{A \code{matrix} containing the observed cell counts of the
contigency table created by \code{y} and \code{by} if provided.}
\item{\code{phat}}{A \code{matrix} containing the row-wise sample proportions for the
observed contigency table (\code{counts}).}
\item{\code{se}}{A \code{matrix} containing the standard errors for the calculated
sample proportions (\code{phat}).}
\item{\code{test}}{A \code{htest} object produced by \code{\link[stats:chisq.test]{stats::chisq.test()}} containing
the results from the \eqn{\chi^2} test for independence.}
\item{\code{N}}{Total number of observations with a response provided.}
\item{\code{total}}{A \code{data.frame} with 5 variables describing the overall
collected sample. The \code{categories} variable provides the unique
categories listed in \code{y}. While \code{counts}, \code{phat}, and \code{se} provide the
overall cell counts, sample proportions, and standard errors for the
categories, respectively. The standard errors reported for the overall
sample proportions are calculated based on the presence of response bias,
which is detailed above. Finally, the \code{saturation} variable is a logical
variable denoting whether saturation was achieved for each individual
category given the saturation \code{threshold} defined.}
\item{\code{hindex}}{Heterogeneity index for the sample proportions calculated by
mean absolute deviation.}
}
}
\description{
Saturation point analysis of multinomial responses from a
survey using standard errors of the sample proportions for the responses.
}
\details{
The \code{by} argument should be specified when the responses collected
in \code{y} are a by-product of the data collection mechanism defined by the \code{by}
variable. When there is no a priori data collection mechanism defined, the
\code{by} argument should not be defined. Generally, when the data is collected
randomly or collected during the first data collection period, there is "no
a priori data collection mechanism."

Functionality of \code{satpt()} depends on the limited use of \code{\link[stats:ftable]{stats::ftable()}}.
More specifically, \code{y}, \code{by}, and \code{exclude} are directly used with
\code{\link[stats:ftable]{stats::ftable()}} to create the contingency table of the collected data. The
contingency table created by \code{\link[stats:ftable]{stats::ftable()}} is converted to a \code{matrix} for
easier use with other functions. When the \code{dimnames} argument is used, it
manipulates the attributes of the created \code{ftable}, which impacts the
dimension names of the resulting \code{matrix}.

Specification of the \code{by} argument automatically calls for a Pearson's
\eqn{\chi^2} test for independence and the heterogeneity index of the sample
proportions to be calculated. The \eqn{\chi^2} test for independence is
conducted to determine if response bias is present within the responses in
\code{y} are due to the data collection periods (\code{by}). When response bias is
present the pooled standard errors of the overall sample proportions for each
response category is reported, the pooled standard errors account for the
response bias. The heterogeneity index is defined as the mean
absoluted difference of the sample proportions for each response category
within each data collection period (\code{by}) relative to the overall sample
proportions for each response category. This index reflects the average
deviation of the data collection period proportions from the overall sample
proportions. Smaller values indicate the sample proportions of the data
collection periods are less dissimilar. This measure is of importance when
response bias is present. When \code{by} is not specified the test for
independence will not be conducted and the heterogeneity index will not be
calculated. \code{satpt} assumes response is only possible when \code{by} is specified.
Thus, there is no need to check for response bias when \code{by} is not specified.
}
\note{
The returned \code{satpt} object will contain \code{NULL} values for \code{test} and
\code{hindex} when \code{by} is not specified. This is done because \code{satpt} assumes
\code{by} is only specified when the data is collected in intervals.
}
\examples{
data(ein)

# Assuming response bias is not a possiblity
satpt::satpt(y = ein$responses)

# Examining saturation given data collected at different times and
# response bias is possible.
satpt::satpt(y = ein$responses, by = ein$wave)

}
\seealso{
\code{\link[stats:ftable]{stats::ftable()}}, \code{\link[stats:chisq.test]{stats::chisq.test()}}
}
